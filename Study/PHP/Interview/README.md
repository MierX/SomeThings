<!-- TOC -->

- [什么是面向对象](#什么是面向对象)
- [SESSION与COOKIE的区别是什么，请从协议、产生的原因与作用说明？](#session与cookie的区别是什么请从协议产生的原因与作用说明)
- [HTTP状态中302、403、500代码的含义？](#http状态中302403500代码的含义)
- [请写出数据类型（int char varchar datetime text）的意思，请问varchar和char有什么区别？](#请写出数据类型int-char-varchar-datetime-text的意思请问varchar和char有什么区别)
- [MyISAM和InnoDB的基本区别？索引结构如何实现？](#myisam和innodb的基本区别索引结构如何实现)
- [isset()和empty()的区别？](#isset和empty的区别)
- [请说明PHP中值传递和引用传递的区别，什么时候值传递，什么时候引用传递？](#请说明php中值传递和引用传递的区别什么时候值传递什么时候引用传递)
- [在PHP中error\_reporting这个函数有什么作用？](#在php中error_reporting这个函数有什么作用)
- [说说你对缓存技术的了解？](#说说你对缓存技术的了解)
- [现在编程中经常采取MVC三层结构，请问MVC分别指哪三层，有什么优点？](#现在编程中经常采取mvc三层结构请问mvc分别指哪三层有什么优点)
- [AJAX的优势是什么？](#ajax的优势是什么)
- [在程序的开发中，如何提高程序的运行效率？](#在程序的开发中如何提高程序的运行效率)
- [对于大流量的网站，可以采用什么方法来解决访问量问题？](#对于大流量的网站可以采用什么方法来解决访问量问题)
- [语句include和require的区别是什么？为避免多次包含同一文件，可用什么语句代替它们？](#语句include和require的区别是什么为避免多次包含同一文件可用什么语句代替它们)
- [foo()和@foo()之间有什么区别？](#foo和foo之间有什么区别)
- [简述PHP的垃圾回收机制](#简述php的垃圾回收机制)
- [如何实现PHP的安全最大化？怎样避免SQL注入漏洞和XSS跨站脚本攻击漏洞？](#如何实现php的安全最大化怎样避免sql注入漏洞和xss跨站脚本攻击漏洞)
- [echo、print\_r、print、var\_dump的区别？](#echoprint_rprintvar_dump的区别)
- [写出smarty模板的特点？](#写出smarty模板的特点)
- [PHP如何实现页面跳转？](#php如何实现页面跳转)
- [如何把一个GB2312格式的字符串转换成UTF-8格式？](#如何把一个gb2312格式的字符串转换成utf-8格式)
- [如果需要原样输出用户输入的内容，在数据入库前，要用哪个函数处理？](#如果需要原样输出用户输入的内容在数据入库前要用哪个函数处理)
- [什么是CSRF攻击？XSS攻击？如何防范？](#什么是csrf攻击xss攻击如何防范)
- [安全对一套程序来说至关重要，请说说在开发中应该注意哪些安全机制](#安全对一套程序来说至关重要请说说在开发中应该注意哪些安全机制)
- [对JSON数据格式的理解？](#对json数据格式的理解)
- [什么是事务？有什么特性？](#什么是事务有什么特性)
- [什么是锁？](#什么是锁)
- [索引的作用？有什么优缺点？](#索引的作用有什么优缺点)
- [如何通俗地理解三个范式？](#如何通俗地理解三个范式)
- [主键、外键和索引的区别？](#主键外键和索引的区别)
- [简述private、protected、public修饰符的访问权限](#简述privateprotectedpublic修饰符的访问权限)
- [堆和栈的区别？](#堆和栈的区别)
- [常用的魔术方法有哪些？](#常用的魔术方法有哪些)
- [$this和self、parent这三个关键词分别代表什么？在哪些场合下使用？](#this和selfparent这三个关键词分别代表什么在哪些场合下使用)
- [作用域操作符 `::`如何使用？都在哪些场合下使用？](#作用域操作符-如何使用都在哪些场合下使用)
- [\_\_autoload()方法的工作原理是什么？](#__autoload方法的工作原理是什么)
- [简述高并发网站解决方案](#简述高并发网站解决方案)
- [什么是聚集索引和非聚集索引？](#什么是聚集索引和非聚集索引)
- [什么是悲观锁和乐观锁，区别是什么？](#什么是悲观锁和乐观锁区别是什么)
- [如何处理并发请求？](#如何处理并发请求)
- [百万计数据如何处理？](#百万计数据如何处理)

<!-- /TOC -->

<div STYLE="page-break-after: always;"></div>

# 什么是面向对象？

> 面向对象一般指面向对象编程，简称OOP（Object Oriented Programming）。
>
> 它利于提高程序的重用性，使程序结构更加清晰。
>
> 它的主要特征有：封装、继承、多态

# SESSION与COOKIE的区别是什么，请从协议、产生的原因与作用说明？

> 由于HTTP无状态协议不能区分用户是否从同一个网站上来的，同一个用户请求不同的页面不能看作是同一个用户，所以产生了SESSION与COOKIE
>
> SESSION存储在服务器端，SESSION相对来说比较安全，SESSION依赖于COOKIE进行传递，禁用COOKIE后，SESSION不能正常使用，SESSION由于保存在服务器端，每次读取都要从服务器进行读取，对服务器有资源消耗。SESSION文件是公有的，文件路径由PHP配置文件中的SESSION.SAVE_PATH指定
>
> COOKIE存储在客户端，可以通过某些手段进行修改，相对来说不安全

# HTTP状态中302、403、500代码的含义？

> 一二三四五原则：
>
> > 一：消息系列
>
> > 二：成功系列
>
> > 三：重定向系列
>
> > 四：请求错误系列
>
> > 五：服务器端错误系列
>
> 302：临时转移成功，请求的内容已转移到新位置
>
> 401：代表未授权
>
> 403：禁止访问
>
> 500：服务器内部错误

# isset()和empty()的区别？

> isset函数用于判断变量是否存在，可以传入多个变量，所其中一个变量不存在则返回false
>
> empty函数用于判断变量是否为空（或为假），只可传一个变量，若为空（或为假）则返回true

# 请说明PHP中值传递和引用传递的区别，什么时候值传递，什么时候引用传递？

> 值传递：指函数内部对参数的任何改变不会改变函数外部的传参变量，值传递时，PHP函数内部会产生复制参数的动作，对于大型的字符串和对象来说，这将会是一个代价很大的操作
>
> 引用传递：指函数内部的对参数的任何改变同时会影响函数外部的传参变量，引用传递不需要函数内部对参数进行复制，对于性能提高很有好处

# 在PHP中error_reporting这个函数有什么作用？

> 此函数用于设置PHP的报错级别并返回当前级别

# 说说你对缓存技术的了解？

> 缓存技术是将动态内容缓存到文件中，在一定时间内访问动态页面直接调用缓存文件，而不必重新访问数据库

# 现在编程中经常采取MVC三层结构，请问MVC分别指哪三层，有什么优点？

> MVC三层分别指：业务模型层、视图层、控制器层，由控制器层调用业务模型层处理数据，然后将数据映射到视图层进行显示
>
> 优点：
>
> > 可以实现代码的重用性，避免产生代码冗余
>
> > M和V实现代码分离，从而使同一个程序可以使用不同的表现形式

# AJAX的优势是什么？

> ajax是异步传输技术，可以通过JavaScript实现，也可以通过JQuery框架实现，其可以实现页面的局部刷新，减轻了服务器的压力，也提高了用户体验

# 在程序的开发中，如何提高程序的运行效率？

> 优化SQL语句，例如查询语句尽量不适用 `select *`；少用子查询，可以用链表代替；少用模糊查询
>
> 数据表中常用的查询字段可以建立索引
>
> 对程序中经常用到的数据可以生成缓存

# 对于大流量的网站，可以采用什么方法来解决访问量问题？

> 有效使用缓存，增加缓存命中率
>
> 使用负载均衡
>
> 对静态文件使用cdn进行存储和加速
>
> 减少关系型数据库的使用，增加非关系型数据库的使用
>
> 反向代理
>
> 多协程解决并发

# 语句include和require的区别是什么？为避免多次包含同一文件，可用什么语句代替它们？

> 区别：在失败的时候，include会产生一个warning，而require会直接产生错误并中断程序；include在脚本运行时载入，require在脚本运行前载入
>
> 替代语句：include_once和require_once，避免重复引入

# foo()和@foo()之间有什么区别？

> `@`用在函数前面，表示当此函数发生足以中断程序的错误时被忽略，程序继续运行

# 简述PHP的垃圾回收机制

> PHP中的变量存储在变量容器zval中，zval中除了存储变量类型和值外，还有is_ref和refcount字段。is_ref表示变量是否有别明明，refcount表示指向变量的元素个数。如果refcount为0时，就回收该变量容器。如果一个zval的refcount减1之后大于0，它就会进入垃圾缓冲区。当缓冲区达到最大值后，回收算法会循环遍历zval，判断其是否为垃圾，并进行释放处理

# 如何实现PHP的安全最大化？怎样避免SQL注入漏洞和XSS跨站脚本攻击漏洞？

> 基本原则：不对外界展示服务器或程序设计细节（屏蔽错误）；不相信任何用户提交的数据（过滤用户提交）

# PHP中几个输出函数echo，print()，print_r()，sprintf()，var_dump()的区别？

> echo：是语句不是函数，没有返回值，可输出多个变量值，不需要圆括号，不能输出数组和对象，只能打印简单类型(如int,string)
>
> print：是语句不是函数，有返回值1，只能输出一个变量，不需要圆括号。不能输出数组和对象，只能打印简单类型(如int,string)
>
> print_r：是函数，可以打印复合类型，例如：string、int、float、array、object等，输出array时会用结构表示，而且可以通过print_r($str,true)来使print_r不输出而返回print_r处理后的值
>
> printf：是函数，把文字格式化以后输出
>
> sprintf：是函数，跟printf相似，但不打印，而是返回格式化后的文字（该函数把格式化的字符串写写入一个变量中，而不是输出来），其他的与printf一样
>
> var_dump：函数，输出变量的内容、类型或字符串的内容、类型、长度。常用来调试

# 写出smarty模板的特点？

> 速度快，编译型模板，具备缓存技术、插件机制，有强大的表现逻辑

# PHP如何实现页面跳转？

> 方法一：PHP函数跳转，缺点是header头之前不能有输出，跳转后的程序继续执行（可用exit中断执行后面的程序）
>
> > `header("Location:网址");`直接跳转
>
> > `header("refresh:3;url=网址")`三秒后跳转
>
> 方法二：利用meta echo ""

# 如何把一个GB2312格式的字符串转换成UTF-8格式？

> `incov("G2312", "UTF-8","要转换的字符串");`

# 如果需要原样输出用户输入的内容，在数据入库前，要用哪个函数处理？

> htmlspecialchars()函数或者htmlentities()函数

# 什么是CSRF攻击？XSS攻击？如何防范？

> CSRF：跨站请求伪造，攻击方伪装用户身份发送请求从而窃取信息或者破坏系统，即用户访问A网站登陆并生成了cookie，再访问B网站，如果A网站存在CSRF漏洞，此时B网站给A网站的请求（相当于用户访问），A网站会认为是用户发起的请求，从而B网站就成功伪装了用户身份，因此叫跨站脚本攻击
>
> > 防范：
> >
> > > 合理规范api请求方式，GET或POST
> >
> > > 对POST请求加token令牌验证，生成一个随机码存入session中，表单中带上这个随机码，提交的时候服务端进行验证随机码是否相同
>
> XSS：跨站脚本攻击
>
> > 防范：
> >
> > > 不相信任何输入，过滤输入

# 安全对一套程序来说至关重要，请说说在开发中应该注意哪些安全机制

> 防远程提交、防SQL注入，对特殊代码进行过滤、防止注册机灌水，使用验证码

# 对JSON数据格式的理解？

> JSON（JavaScript Object Notation）是一种轻量级的数据交换格式。JSON数据格式固定，可以被多种语言用作数据的传递

# 如何通俗地理解三个范式？

> 第一范式：1NF是对属性的原子性约束，要求属性具有原子性，不可再分解
>
> 第二范式：2NF是对记录的唯一性约束，要求记录有唯一标识，即实体的唯一性
>
> 第三范式：3NF是对字段冗余性的约束，即任何字段不能由其它字段派生出来，它要求字段没有冗余

# 主键、外键和索引的区别？

> 主键：唯一标识一条记录，不能有重复的，不允许为空，只能有一个主键，其是用来保证数据的完整性
>
> 外键：表的外键是另一表的主键，外键可以有重复的，可以是空值，一个表可以有多个外键，其用来和其他表建立联系用的
>
> 索引：该字段没有重复值，但可以有一个空值，一个表可以有多个唯一索引，其可以提高查询排序的速度

# 简述private、protected、public修饰符的访问权限

> private：私有成员，在类的内部才可以访问
>
> protected：保护乘员，该类内部和继承类中可以访问
>
> public：公共成员，完全公开，没有访问限制

# 堆和栈的区别？

> 堆是程序运行期间动态分配的内存空间，你可以根据程序的运行情况确定要分配的堆内存的大小
>
> 栈是编译期间就分配好的内存空间，因此你的代码中必须就栈的大小有明确的定义

# 常用的魔术方法有哪些？

> PHP规定以两个下划线（__）开头的方法都保留为魔术方法，通常情况下不建议是在函数名前加上，除非是为了重载已有的魔术方法
>
> > __construct()：实例化类时自动调用
>
> > __destruct()：类对象使用结束时自动调用
>
> > __set()：在给未定义的属性赋值的时候调用
>
> > __get()：调用未定义的属性时候调用
>
> > __isset()：使用isset()或empty()函数时会调用
>
> > __unset()：使用unset()时候会调用
>
> > __sleep()：使用serialize序列化时调用
>
> > __wakeup():使用unserialize反序列化的时候调用
>
> > __call()：调用一个不存在的方法的时候调用
>
> > __callStatic()：调用一个不存在的静态方法时调用
>
> > __toString()：把对象转换成字符串的时候会调用，例如 `echo`
>
> > __invoke()：当尝试把对象当方法调用时调用
>
> > __set_state()：当使用var_export()函数时候调用，接受一个数组参数
>
> > __clone()：当使用clone复制一个对象时候调用

# $this和self、parent这三个关键词分别代表什么？在哪些场合下使用？

> $this：指当前对象，在当前类中使用，使用 `->`调用属性和方法
>
> self：指当前类，也在当前类中使用，不过需要使用 `::`调用
>
> parent：指当前类的父类，在子类中使用

# 作用域操作符 `::`如何使用？都在哪些场合下使用？

> 调用类常量或调用静态方法时使用

# __autoload()方法的工作原理是什么？

> 使用这个魔术函数的基本条件是类文件的文件名要和类的名字保持一致
>
> 当程序执行到实例化某个类的时候，如果在实例化前没有引入这个类文件，那么就自动执行__autoload()函数
>
> 这个函数会根据实例化的类的名称来查找这个类文件的路径，当判断这个类文件路径下确实存在这个类文件后，就执行include或者require来载入该类，然后程序继续执行，如果这个路径下不存在该文件时就提示错误
>
> 使用自动载入的魔术函数可以不必要写很多个include或者require函数

# 简述高并发网站解决方案

> 前端优化：CDN加速、建立独立图片服务器
>
> 服务端优化：页面静态化、并发处理（异步|多线程、队列处理）
>
> 数据库优化：数据库缓存（Memcached|Redis）、读写分离、分库分表、分区
>
> web服务器优化：负载均衡、方向代理

# 写个函数来解决多线程同时读写一个文件的问题

```php
<?php
    $fp = fopen("/tmp/lock.txt","w+");
    if(flock($fp, LOCK_EX)){// 进行排它型锁定
        fwrite($fp,"Write something here\n");
        flock($fp, LOCK_UN);// 释放锁定
    }else{
        echo "Couldn't lock the file !";
    }
    fclose($fp);
?>
```

# 什么是悲观锁和乐观锁，区别是什么？

# 如何处理并发请求？

# 百万计数据如何处理？

# 关系型数据库和非关系型数据库有哪些？区别是什么？

# 拼手气抢红包实现原理是什么？

